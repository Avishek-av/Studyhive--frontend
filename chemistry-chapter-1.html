<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 1: Volumetric Analysis | StudyHive Chemistry</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
       <style>
        /* ===== GLOBAL RESET & BASE ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Dark Theme Variables - CHEMISTRY GREEN/TEAL THEME */
            --bg-primary: #0a0a0a;
            --bg-secondary: #111111;
            --bg-card: #1a1a1a;
            --bg-surface: #1e1e1e;
            --accent-primary: #00b894;
            --accent-secondary: #00cec9;
            --accent-tertiary: #55efc4;
            --accent-glow: rgba(0, 184, 148, 0.3);
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --text-muted: #888888;
            --border-color: #2a2a2a;
            --border-active: #00b894;
            --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.2);
            --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.4);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 20px;
            --radius-xl: 28px;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2.5rem;
            --spacing-xl: 4rem;
        }

        [data-theme="light"] {
            --bg-primary: #f8f9fa;
            --bg-secondary: #ffffff;
            --bg-card: #ffffff;
            --bg-surface: #f1f3f4;
            --accent-primary: #00a085;
            --accent-secondary: #00b8a9;
            --accent-tertiary: #4ad4b0;
            --accent-glow: rgba(0, 160, 133, 0.2);
            --text-primary: #1a1a1a;
            --text-secondary: #5f6368;
            --text-muted: #80868b;
            --border-color: #e0e0e0;
            --border-active: #00a085;
            --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.12);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: var(--transition);
            min-height: 100vh;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            line-height: 1.2;
            letter-spacing: -0.01em;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        button {
            cursor: pointer;
            border: none;
            outline: none;
            background: none;
            font-family: inherit;
            font-weight: 500;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        /* ===== HEADER & NAVIGATION ===== */
        .header {
            padding: var(--spacing-lg) 0;
            position: relative;
            z-index: 100;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .logo-icon {
            color: var(--accent-primary);
            font-size: 2rem;
        }

        .logo-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.75rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .theme-toggle {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--bg-card);
            color: var(--text-primary);
            font-size: 1.2rem;
            transition: var(--transition);
            border: 1px solid var(--border-color);
        }

        .theme-toggle:hover {
            transform: rotate(15deg);
            border-color: var(--accent-primary);
            color: var(--accent-primary);
            box-shadow: 0 0 20px var(--accent-glow);
        }

        /* ===== BREADCRUMB ===== */
        .breadcrumb {
            padding: var(--spacing-md) 0;
            margin-bottom: var(--spacing-lg);
            border-bottom: 1px solid var(--border-color);
            background-color: var(--bg-secondary);
        }

        .breadcrumb-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.95rem;
        }

        .breadcrumb-link {
            color: var(--text-secondary);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .breadcrumb-link:hover {
            color: var(--accent-primary);
        }

        .breadcrumb-current {
            color: var(--accent-primary);
            font-weight: 600;
        }

        /* ===== STICKY MINI NAV ===== */
        .sticky-mini-nav {
            position: fixed;
            top: -80px;
            left: 0;
            width: 100%;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            z-index: 90;
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            box-shadow: var(--shadow-sm);
        }

        .sticky-mini-nav.active {
            top: 0;
            opacity: 1;
            visibility: visible;
        }

        body.has-mini-nav {
            padding-top: 60px;
        }

        .mini-nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem var(--spacing-md);
            max-width: 1200px;
            margin: 0 auto;
        }

        .mini-nav-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent-primary);
        }

        .mini-nav-progress {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .mini-progress-bar {
            width: 120px;
            height: 6px;
            background-color: var(--border-color);
            border-radius: 3px;
            overflow: hidden;
        }

        .mini-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 3px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .mini-progress-percent {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 500;
            min-width: 40px;
        }

        /* ===== CHAPTER LAYOUT ===== */
        .chapter-layout {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: var(--spacing-xl);
            padding: var(--spacing-xl) 0;
            max-width: 1200px;
            margin: 0 auto;
        }

        @media (max-width: 1024px) {
            .chapter-layout {
                grid-template-columns: 1fr;
                padding: var(--spacing-md);
            }
        }

        /* ===== SIDEBAR ===== */
        .sidebar {
            position: sticky;
            top: 100px;
            height: fit-content;
        }

        .sidebar-card {
            background-color: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .sidebar-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
        }

        .chapter-meta {
            text-align: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-lg);
            border-bottom: 1px solid var(--border-color);
        }

        .chapter-number {
            font-size: 4rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1;
            margin-bottom: 0.5rem;
        }

        .chapter-title {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .chapter-marks {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            background-color: rgba(0, 184, 148, 0.1);
            color: var(--accent-primary);
            border-radius: var(--radius-xl);
            font-weight: 600;
            font-size: 0.9rem;
            border: 1px solid rgba(0, 184, 148, 0.3);
        }

        .topics-nav-container {
            margin-bottom: var(--spacing-lg);
        }

        .topics-nav {
            list-style: none;
        }

        .topics-nav li {
            margin-bottom: 0.5rem;
        }

        .topics-nav a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: var(--text-secondary);
            border-radius: var(--radius-sm);
            transition: var(--transition);
            font-weight: 500;
            border-left: 3px solid transparent;
        }

        .topics-nav a:hover {
            background-color: rgba(0, 184, 148, 0.05);
            color: var(--text-primary);
            padding-left: 1.25rem;
        }

        .topics-nav a.active {
            background-color: rgba(0, 184, 148, 0.1);
            color: var(--accent-primary);
            border-left-color: var(--accent-primary);
            font-weight: 600;
        }

        .topic-icon {
            width: 24px;
            text-align: center;
            color: var(--accent-primary);
        }

        .progress-section {
            background-color: var(--bg-surface);
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            margin-bottom: var(--spacing-lg);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .progress-title {
            font-weight: 600;
            color: var(--text-primary);
        }

        .progress-percent {
            font-weight: 700;
            color: var(--accent-primary);
            font-size: 1.1rem;
        }

        .progress-bar {
            height: 8px;
            background-color: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 4px;
            width: 25%;
            transition: width 0.3s ease;
        }

        .btn-back {
            width: 100%;
            padding: 0.875rem 1.5rem;
            background-color: var(--bg-surface);
            color: var(--text-primary);
            border-radius: var(--radius-md);
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            border: 1px solid var(--border-color);
        }

        .btn-back:hover {
            background-color: rgba(0, 184, 148, 0.1);
            color: var(--accent-primary);
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 184, 148, 0.1);
        }

        /* ===== CHAPTER CONTENT ===== */
        .chapter-content {
            background-color: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .content-header {
            margin-bottom: var(--spacing-xl);
            text-align: center;
            padding-bottom: var(--spacing-lg);
            border-bottom: 1px solid var(--border-color);
        }

        .content-title {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .content-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* ===== CONTENT SECTIONS ===== */
        .content-section {
            margin-bottom: var(--spacing-xl);
            padding: var(--spacing-lg);
            background-color: var(--bg-surface);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .content-section:hover {
            border-color: rgba(0, 184, 148, 0.3);
            box-shadow: 0 8px 32px rgba(0, 184, 148, 0.1);
            transform: translateY(-2px);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-sm);
            border-bottom: 1px solid var(--border-color);
        }

        .section-icon {
            color: var(--accent-primary);
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(0, 184, 148, 0.1);
            border-radius: 50%;
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--text-primary);
        }

        .content-body {
            padding-left: 3rem;
        }

        .content-body p {
            margin-bottom: 1rem;
            line-height: 1.7;
        }

        .content-body strong {
            color: var(--accent-primary);
            font-weight: 600;
        }

        /* ===== CHEMISTRY CONTENT SPECIFIC ===== */
        .chemistry-formula {
            background-color: rgba(0, 184, 148, 0.1);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            margin: 1.5rem 0;
            border-left: 4px solid var(--accent-primary);
        }

        .formula-title {
            font-weight: 600;
            color: var(--accent-primary);
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }

        .formula {
            font-family: 'Times New Roman', serif;
            font-size: 1.2rem;
            text-align: center;
            color: var(--text-primary);
            margin: 0.5rem 0;
            padding: 0.5rem;
            background-color: var(--bg-card);
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
        }

        .reaction {
            font-family: 'Times New Roman', serif;
            font-size: 1.1rem;
            text-align: center;
            color: var(--text-primary);
            margin: 1rem 0;
            padding: 1rem;
            background-color: var(--bg-card);
            border-radius: var(--radius-sm);
            border: 1px dashed var(--border-color);
        }

        .reaction-arrow {
            margin: 0 1rem;
            color: var(--accent-primary);
            font-weight: bold;
        }

        .reaction-conditions {
            font-size: 0.85rem;
            color: var(--text-muted);
            display: block;
            margin-top: 0.5rem;
            font-style: italic;
        }

        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .property-card {
            background-color: var(--bg-card);
            padding: 1.25rem;
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .property-card:hover {
            border-color: var(--accent-primary);
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(0, 184, 148, 0.1);
        }

        .property-title {
            font-weight: 600;
            color: var(--accent-primary);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .property-content {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* ===== MCQ SECTION ===== */
        .mcq-section {
            margin-top: var(--spacing-xl);
            padding-top: var(--spacing-xl);
            border-top: 1px solid var(--border-color);
        }

        .mcq-title {
            font-size: 1.75rem;
            margin-bottom: var(--spacing-lg);
            color: var(--text-primary);
            text-align: center;
        }

        .mcq-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }

        .mcq-card {
            background-color: var(--bg-surface);
            border-radius: var(--radius-lg);
            padding: var(--spacing-md);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .mcq-card:hover {
            border-color: var(--accent-primary);
            transform: translateY(-4px);
            box-shadow: 0 8px 32px rgba(0, 184, 148, 0.1);
        }

        .mcq-question {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-size: 1.05rem;
            line-height: 1.5;
        }

        .mcq-options {
            list-style: none;
            margin-bottom: 1.5rem;
        }

        .mcq-options li {
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            background-color: var(--bg-card);
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            transition: var(--transition);
            cursor: pointer;
        }

        .mcq-options li:hover {
            background-color: rgba(0, 184, 148, 0.05);
            border-color: var(--accent-primary);
        }

        .mcq-answer {
            background-color: rgba(0, 184, 148, 0.1);
            color: var(--accent-primary);
            padding: 1rem;
            border-radius: var(--radius-md);
            margin-bottom: 1rem;
            font-weight: 600;
            display: none;
        }

        .mcq-card.show-answer .mcq-answer {
            display: block;
        }

        .btn-show-answer {
            width: 100%;
            padding: 0.875rem;
            background-color: var(--accent-primary);
            color: white;
            border-radius: var(--radius-md);
            font-weight: 600;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .btn-show-answer:hover {
            background-color: var(--accent-secondary);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 184, 148, 0.3);
        }

        /* ===== COMPLETION MESSAGE ===== */
        .completion-message {
            background: linear-gradient(135deg, rgba(0, 184, 148, 0.1), rgba(0, 206, 201, 0.1));
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            text-align: center;
            margin-top: var(--spacing-xl);
            border: 1px solid rgba(0, 184, 148, 0.3);
        }

        .completion-title {
            font-size: 1.75rem;
            color: var(--accent-primary);
            margin-bottom: 0.5rem;
        }

        .completion-text {
            color: var(--text-secondary);
            margin-bottom: var(--spacing-lg);
            font-size: 1.1rem;
        }

        .btn-continue {
            padding: 1rem 2.5rem;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            border-radius: var(--radius-lg);
            font-weight: 600;
            font-size: 1rem;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            box-shadow: 0 8px 32px rgba(0, 184, 148, 0.3);
        }

        .btn-continue:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 184, 148, 0.4);
        }

        /* ===== FOOTER ===== */
        .footer {
            background-color: var(--bg-secondary);
            padding: var(--spacing-xl) 0;
            border-top: 1px solid var(--border-color);
            margin-top: var(--spacing-xl);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        .footer-links {
            display: flex;
            gap: var(--spacing-xl);
        }

        .footer-link {
            color: var(--text-secondary);
            transition: var(--transition);
            font-size: 0.95rem;
            font-weight: 500;
        }

        .footer-link:hover {
            color: var(--accent-primary);
        }

        .copyright {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .chapter-layout {
                padding: var(--spacing-sm);
            }
            
            .chapter-content {
                padding: var(--spacing-md);
            }
            
            .content-title {
                font-size: 2rem;
            }
            
            .content-body {
                padding-left: 1rem;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            .section-icon {
                margin-bottom: 0.5rem;
            }
            
            .properties-grid {
                grid-template-columns: 1fr;
            }
            
            .mcq-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                flex-direction: column;
                gap: var(--spacing-lg);
                text-align: center;
            }
            
            .footer-links {
                flex-direction: column;
                gap: var(--spacing-md);
            }
        }

        /* Print styles */
        @media print {
            .header, .breadcrumb, .sticky-mini-nav, .sidebar, .btn-show-answer, .completion-message, .footer {
                display: none;
            }
            
            body {
                background-color: white;
                color: black;
                padding: 0;
            }
            
            .chapter-content {
                box-shadow: none;
                border: none;
                padding: 0;
            }
            
            .content-section {
                break-inside: avoid;
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body data-theme="dark">
    <!-- HEADER -->
    <header class="header">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-icon">üêù</div>
                <div class="logo-text">StudyHive</div>
            </a>
            <div class="nav-right">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-sun"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- BREADCRUMB -->
    <section class="breadcrumb">
        <div class="breadcrumb-links">
            <a href="index.html" class="breadcrumb-link">
                <i class="fas fa-home"></i>
                Home
            </a>
            <span class="breadcrumb-separator">/</span>
            <a href="chemistry.html" class="breadcrumb-link">
                Chemistry
            </a>
            <span class="breadcrumb-separator">/</span>
            <a href="chemistry-syllabus.html" class="breadcrumb-link">
                Syllabus
            </a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current">Chapter 1: Volumetric Analysis</span>
        </div>
    </section>

    <!-- STICKY MINI NAVIGATION -->
    <div class="sticky-mini-nav" id="stickyMiniNav">
        <div class="mini-nav-content">
            <div class="mini-nav-title" id="currentSectionTitle">Introduction</div>
            <div class="mini-nav-progress">
                <div class="mini-progress-bar">
                    <div class="mini-progress-fill" id="miniProgressFill"></div>
                </div>
                <div class="mini-progress-percent" id="miniProgressPercent">0%</div>
            </div>
        </div>
    </div>

    <!-- CHAPTER CONTENT -->
    <div class="chapter-layout">
        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="sidebar-card">
                <div class="chapter-meta">
                    <div class="chapter-number">01</div>
                    <h2 class="chapter-title">Volumetric Analysis</h2>
                    <div class="chapter-marks">8 Marks</div>
                </div>

                <div class="topics-nav-container">
                    <ul class="topics-nav">
                        <li><a href="#introduction" class="active"><i class="fas fa-flask topic-icon"></i> Introduction</a></li>
                        <li><a href="#concentration"><i class="fas fa-vial topic-icon"></i> Concentration Units</a></li>
                        <li><a href="#standards"><i class="fas fa-balance-scale topic-icon"></i> Standard Substances</a></li>
                        <li><a href="#titration"><i class="fas fa-tint topic-icon"></i> Titration Methods</a></li>
                        <li><a href="#numerical"><i class="fas fa-calculator topic-icon"></i> Numerical Problems</a></li>
                        <li><a href="#mcqs"><i class="fas fa-list-ol topic-icon"></i> MCQs</a></li>
                    </ul>
                </div>

                <div class="progress-section">
                    <div class="progress-header">
                        <div class="progress-title">Progress</div>
                        <div class="progress-percent">25%</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                </div>

                <button class="btn-back" onclick="location.href='chemistry-syllabus.html'">
                    <i class="fas fa-arrow-left"></i>
                    Back to Syllabus
                </button>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="chapter-content">
            <!-- CHAPTER HEADER -->
            <div class="content-header">
                <h1 class="content-title">Volumetric Analysis</h1>
                <p class="content-subtitle">
                    Quantitative chemical analysis method based on measuring volumes of solutions of known concentration required to react completely with the analyte. It includes concepts of equivalent weights, concentration units, and titration techniques.
                </p>
            </div>

            <!-- INTRODUCTION -->
            <section id="introduction" class="content-section">
                <div class="section-header">
                    <i class="fas fa-flask section-icon"></i>
                    <h2 class="section-title">Introduction to Volumetric Analysis</h2>
                </div>
                <div class="content-body">
                    <div class="definition-box">
                        <div class="definition-title">Volumetric Analysis (Titrimetric Analysis)</div>
                        <p>Method of quantitative analysis where the volume of a solution of known concentration (titrant) required to react completely with a given amount of analyte is measured.</p>
                    </div>

                    <div class="definition-box">
                        <div class="definition-title">Gravimetric Analysis</div>
                        <p>Method of quantitative analysis where the mass of an analyte is determined by converting it into a precipitate of known composition, which is then isolated, dried, and weighed.</p>
                    </div>

                    <p><strong>Equivalent Weight:</strong> The mass of a substance that combines with or displaces 1 gram of hydrogen, 8 grams of oxygen, or 35.5 grams of chlorine.</p>

                    <div class="formula-box">
                        <div class="formula">Equivalent Weight = Atomic Weight / Valency</div>
                    </div>

                    <div class="note-box">
                        <div class="note-title">
                            <i class="fas fa-lightbulb"></i>
                            Important Note
                        </div>
                        <p>Equivalent weight is not a fixed property; it depends on the reaction in which the substance participates. A substance can have different equivalent weights in different reactions.</p>
                    </div>

                    <h3 style="color: var(--text-primary); margin: var(--spacing-md) 0;">Types of Equivalent Weights:</h3>
                    <ul>
                        <li><strong>Acid Equivalent Weight:</strong> Molecular weight divided by number of replaceable H‚Å∫ ions
                            <ul>
                                <li>HCl: 36.5/1 = 36.5 g/eq</li>
                                <li>H‚ÇÇSO‚ÇÑ: 98/2 = 49 g/eq</li>
                            </ul>
                        </li>
                        <li><strong>Base Equivalent Weight:</strong> Molecular weight divided by number of replaceable OH‚Åª ions
                            <ul>
                                <li>NaOH: 40/1 = 40 g/eq</li>
                                <li>Ca(OH)‚ÇÇ: 74/2 = 37 g/eq</li>
                            </ul>
                        </li>
                        <li><strong>Salt Equivalent Weight:</strong> Molecular weight divided by total positive or negative valency
                            <ul>
                                <li>NaCl: 58.5/1 = 58.5 g/eq</li>
                                <li>CaCl‚ÇÇ: 111/2 = 55.5 g/eq</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </section>

            <!-- CONCENTRATION UNITS -->
            <section id="concentration" class="content-section">
                <div class="section-header">
                    <i class="fas fa-vial section-icon"></i>
                    <h2 class="section-title">Concentration of Solutions</h2>
                </div>
                <div class="content-body">
                    <p>Concentration expresses the amount of solute present in a given quantity of solution or solvent. Different units are used depending on the context.</p>

                    <div class="definition-box">
                        <div class="definition-title">Molarity (M)</div>
                        <p>Number of moles of solute dissolved per liter of solution.</p>
                        <div class="formula">Molarity (M) = moles of solute / volume of solution in liters</div>
                    </div>

                    <div class="definition-box">
                        <div class="definition-title">Molality (m)</div>
                        <p>Number of moles of solute dissolved per kilogram of solvent.</p>
                        <div class="formula">Molality (m) = moles of solute / mass of solvent in kg</div>
                    </div>

                    <div class="definition-box">
                        <div class="definition-title">Normality (N)</div>
                        <p>Number of gram equivalents of solute dissolved per liter of solution.</p>
                        <div class="formula">Normality (N) = gram equivalents of solute / volume of solution in liters</div>
                    </div>

                    <div class="example-box">
                        <div class="example-title"><i class="fas fa-calculator"></i> Example Calculation</div>
                        <p><strong>Problem:</strong> Calculate the molarity of a solution containing 5.85 g of NaCl in 500 mL of solution.</p>
                        <p><strong>Solution:</strong></p>
                        <p>Molar mass of NaCl = 58.5 g/mol</p>
                        <p>Moles of NaCl = 5.85 g / 58.5 g/mol = 0.1 mol</p>
                        <p>Volume in liters = 500 mL / 1000 = 0.5 L</p>
                        <p>Molarity = 0.1 mol / 0.5 L = <strong>0.2 M</strong></p>
                    </div>

                    <h3 style="color: var(--text-primary); margin: var(--spacing-md) 0;">Dilute Solution Units:</h3>
                    <ul>
                        <li><strong>Parts Per Million (ppm):</strong> Mass of solute per million parts of solution
                            <div class="formula">ppm = (mass of solute / mass of solution) √ó 10‚Å∂</div>
                        </li>
                        <li><strong>Parts Per Billion (ppb):</strong> Mass of solute per billion parts of solution
                            <div class="formula">ppb = (mass of solute / mass of solution) √ó 10‚Åπ</div>
                        </li>
                    </ul>

                    <div class="note-box">
                        <div class="note-title">
                            <i class="fas fa-exclamation-triangle"></i>
                            Important Relationships
                        </div>
                        <ul>
                            <li>Normality = Molarity √ó n-factor</li>
                            <li>For dilution: M‚ÇÅV‚ÇÅ = M‚ÇÇV‚ÇÇ (Molarity) or N‚ÇÅV‚ÇÅ = N‚ÇÇV‚ÇÇ (Normality)</li>
                            <li>1 ppm = 1 mg/L for dilute aqueous solutions</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- STANDARD SUBSTANCES -->
            <section id="standards" class="content-section">
                <div class="section-header">
                    <i class="fas fa-balance-scale section-icon"></i>
                    <h2 class="section-title">Primary and Secondary Standard Substances</h2>
                </div>
                <div class="content-body">
                    <p>Standard solutions are solutions of accurately known concentration used in titrations.</p>

                    <h3 style="color: var(--text-primary); margin: var(--spacing-md) 0;">Primary Standard Substances:</h3>
                    <div class="definition-box">
                        <div class="definition-title">Characteristics of Primary Standards</div>
                        <ul>
                            <li>High purity (99.9%+)</li>
                            <li>Stable at room temperature</li>
                            <li>Non-hygroscopic (does not absorb moisture)</li>
                            <li>High equivalent weight (to minimize weighing errors)</li>
                            <li>Readily soluble</li>
                            <li>Reacts completely and rapidly with analyte</li>
                        </ul>
                    </div>

                    <div class="example-box">
                        <div class="example-title"><i class="fas fa-vial"></i> Examples of Primary Standards</div>
                        <ul>
                            <li><strong>For acids:</strong> Anhydrous sodium carbonate (Na‚ÇÇCO‚ÇÉ), Potassium hydrogen phthalate (KHP)</li>
                            <li><strong>For bases:</strong> Benzoic acid, Oxalic acid dihydrate</li>
                            <li><strong>For redox:</strong> Potassium dichromate (K‚ÇÇCr‚ÇÇO‚Çá), Potassium iodate (KIO‚ÇÉ)</li>
                            <li><strong>For precipitation:</strong> Sodium chloride (NaCl), Silver nitrate (AgNO‚ÇÉ)</li>
                        </ul>
                    </div>

                    <h3 style="color: var(--text-primary); margin: var(--spacing-md) 0;">Secondary Standard Substances:</h3>
                    <p>Substances whose concentration is determined by titration against a primary standard.</p>
                    
                    <div class="definition-box">
                        <div class="definition-title">Characteristics of Secondary Standards</div>
                        <ul>
                            <li>Less pure than primary standards</li>
                            <li>Concentration may change over time</li>
                            <li>Must be standardized before use</li>
                            <li>Used when primary standards are not available or practical</li>
                        </ul>
                    </div>

                    <div class="example-box">
                        <div class="example-title"><i class="fas fa-vial"></i> Examples of Secondary Standards</div>
                        <ul>
                            <li><strong>Acids:</strong> Hydrochloric acid (HCl), Sulfuric acid (H‚ÇÇSO‚ÇÑ)</li>
                            <li><strong>Bases:</strong> Sodium hydroxide (NaOH), Potassium hydroxide (KOH)</li>
                            <li><strong>Redox:</strong> Potassium permanganate (KMnO‚ÇÑ), Sodium thiosulfate (Na‚ÇÇS‚ÇÇO‚ÇÉ)</li>
                        </ul>
                    </div>

                    <div class="note-box">
                        <div class="note-title">
                            <i class="fas fa-exclamation-triangle"></i>
                            Important Distinction
                        </div>
                        <p>NaOH cannot be a primary standard because it absorbs moisture and CO‚ÇÇ from air. HCl cannot be a primary standard because it is volatile and its concentration changes with time.</p>
                    </div>
                </div>
            </section>

            <!-- TITRATION METHODS -->
            <section id="titration" class="content-section">
                <div class="section-header">
                    <i class="fas fa-tint section-icon"></i>
                    <h2 class="section-title">Titration Methods</h2>
                </div>
                <div class="content-body">
                    <div class="definition-box">
                        <div class="definition-title">Law of Equivalence</div>
                        <p>In a chemical reaction, substances react in the ratio of their equivalent weights.</p>
                        <div class="formula">N‚ÇÅV‚ÇÅ = N‚ÇÇV‚ÇÇ (For titration)</div>
                        <p>Where:<br>
                        N‚ÇÅ = Normality of first solution<br>
                        V‚ÇÅ = Volume of first solution<br>
                        N‚ÇÇ = Normality of second solution<br>
                        V‚ÇÇ = Volume of second solution</p>
                    </div>

                    <div class="example-box">
                        <div class="example-title"><i class="fas fa-calculator"></i> Example Problem</div>
                        <p><strong>Problem:</strong> 25 mL of 0.1 N HCl requires 20 mL of NaOH solution for complete neutralization. Calculate the normality of NaOH.</p>
                        <p><strong>Solution:</strong></p>
                        <p>Using N‚ÇÅV‚ÇÅ = N‚ÇÇV‚ÇÇ</p>
                        <p>0.1 N √ó 25 mL = N‚ÇÇ √ó 20 mL</p>
                        <p>N‚ÇÇ = (0.1 √ó 25) / 20 = <strong>0.125 N</strong></p>
                    </div>

                    <h3 style="color: var(--text-primary); margin: var(--spacing-md) 0;">Types of Titration:</h3>

                    <div class="definition-box">
                        <div class="definition-title">1. Acid-Base Titration (Neutralization Titration)</div>
                        <p>Based on neutralization reaction between acid and base to form salt and water.</p>
                        <div class="formula">Acid + Base ‚Üí Salt + Water</div>
                        <p><strong>Indicators:</strong> Phenolphthalein, Methyl orange, Bromothymol blue</p>
                    </div>

                    <div class="definition-box">
                        <div class="definition-title">2. Redox Titration (Oxidation-Reduction Titration)</div>
                        <p>Based on transfer of electrons between oxidizing and reducing agents.</p>
                        <ul>
                            <li><strong>Common oxidizing agents:</strong> KMnO‚ÇÑ, K‚ÇÇCr‚ÇÇO‚Çá, I‚ÇÇ</li>
                            <li><strong>Common reducing agents:</strong> Fe¬≤‚Å∫, Sn¬≤‚Å∫, S‚ÇÇO‚ÇÉ¬≤‚Åª</li>
                        </ul>
                        <p><strong>Examples:</strong> Permanganometry, Dichrometry, Iodimetry</p>
                    </div>

                    <div class="definition-box">
                        <div class="definition-title">3. Precipitation Titration</div>
                        <p>Based on formation of insoluble precipitate.</p>
                        <div class="example-box">
                            <div class="example-title"><i class="fas fa-flask"></i> Example: Argentometric Titration</div>
                            <div class="formula">Ag‚Å∫ + Cl‚Åª ‚Üí AgCl‚Üì (white precipitate)</div>
                        </div>
                    </div>

                    <div class="definition-box">
                        <div class="definition-title">4. Complexometric Titration</div>
                        <p>Based on formation of complex ions.</p>
                        <div class="example-box">
                            <div class="example-title"><i class="fas fa-flask"></i> Example: EDTA Titration</div>
                            <div class="formula">M¬≤‚Å∫ + EDTA‚Å¥‚Åª ‚Üí [M-EDTA]¬≤‚Åª (complex)</div>
                        </div>
                    </div>

                    <div class="note-box">
                        <div class="note-title">
                            <i class="fas fa-lightbulb"></i>
                            Titration Terminology
                        </div>
                        <ul>
                            <li><strong>Titrant:</strong> Solution of known concentration</li>
                            <li><strong>Titrand/Analyte:</strong> Solution being analyzed</li>
                            <li><strong>Equivalence Point:</strong> Point where equivalent amounts have reacted</li>
                            <li><strong>End Point:</strong> Point where indicator changes color</li>
                            <li><strong>Indicator:</strong> Substance that shows visible change at/near equivalence point</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- NUMERICAL PROBLEMS -->
            <section id="numerical" class="numerical-section">
                <h2 class="numerical-title">Numerical Problems</h2>
                
                <div class="problem-card">
                    <div class="problem-number">1</div>
                    <div class="problem-text">Calculate the equivalent weight of H‚ÇÉPO‚ÇÑ in the reaction: H‚ÇÉPO‚ÇÑ + 2NaOH ‚Üí Na‚ÇÇHPO‚ÇÑ + 2H‚ÇÇO</div>
                    <button class="solution-btn" onclick="toggleSolution(1)">
                        <i class="fas fa-eye"></i> View Solution
                    </button>
                    <div class="solution-content" id="solution1">
                        <div style="margin-top: var(--spacing-md); padding: var(--spacing-sm); background: var(--bg-surface); border-radius: var(--radius-sm);">
                            <p><strong>Solution:</strong> Molecular weight of H‚ÇÉPO‚ÇÑ = 98 g/mol</p>
                            <p>In the given reaction, 2 H‚Å∫ ions are replaced (from H‚ÇÉPO‚ÇÑ to Na‚ÇÇHPO‚ÇÑ)</p>
                            <p>Equivalent weight = Molecular weight / n-factor = 98 / 2 = <strong>49 g/eq</strong></p>
                        </div>
                    </div>
                </div>

                <div class="problem-card">
                    <div class="problem-number">2</div>
                    <div class="problem-text">What volume of 0.1 M H‚ÇÇSO‚ÇÑ is required to neutralize 50 mL of 0.2 M NaOH solution?</div>
                    <button class="solution-btn" onclick="toggleSolution(2)">
                        <i class="fas fa-eye"></i> View Solution
                    </button>
                    <div class="solution-content" id="solution2">
                        <div style="margin-top: var(--spacing-md); padding: var(--spacing-sm); background: var(--bg-surface); border-radius: var(--radius-sm);">
                            <p><strong>Solution:</strong> Reaction: H‚ÇÇSO‚ÇÑ + 2NaOH ‚Üí Na‚ÇÇSO‚ÇÑ + 2H‚ÇÇO</p>
                            <p>For H‚ÇÇSO‚ÇÑ: n-factor = 2, so Normality = 0.1 √ó 2 = 0.2 N</p>
                            <p>For NaOH: n-factor = 1, so Normality = 0.2 √ó 1 = 0.2 N</p>
                            <p>Using N‚ÇÅV‚ÇÅ = N‚ÇÇV‚ÇÇ: 0.2 √ó V‚ÇÅ = 0.2 √ó 50</p>
                            <p>V‚ÇÅ = 50 mL of 0.1 M H‚ÇÇSO‚ÇÑ</p>
                        </div>
                    </div>
                </div>

                <div class="problem-card">
                    <div class="problem-number">3</div>
                    <div class="problem-text">Calculate the molarity of a solution containing 4.9 g of H‚ÇÇSO‚ÇÑ in 250 mL of solution.</div>
                    <button class="solution-btn" onclick="toggleSolution(3)">
                        <i class="fas fa-eye"></i> View Solution
                    </button>
                    <div class="solution-content" id="solution3">
                        <div style="margin-top: var(--spacing-md); padding: var(--spacing-sm); background: var(--bg-surface); border-radius: var(--radius-sm);">
                            <p><strong>Solution:</strong> Molecular weight of H‚ÇÇSO‚ÇÑ = 98 g/mol</p>
                            <p>Moles of H‚ÇÇSO‚ÇÑ = 4.9 g / 98 g/mol = 0.05 mol</p>
                            <p>Volume in liters = 250 mL / 1000 = 0.25 L</p>
                            <p>Molarity = 0.05 mol / 0.25 L = <strong>0.2 M</strong></p>
                        </div>
                    </div>
                </div>

                <div class="problem-card">
                    <div class="problem-number">4</div>
                    <div class="problem-text">How many grams of NaOH are required to prepare 500 mL of 0.1 N solution?</div>
                    <button class="solution-btn" onclick="toggleSolution(4)">
                        <i class="fas fa-eye"></i> View Solution
                    </button>
                    <div class="solution-content" id="solution4">
                        <div style="margin-top: var(--spacing-md); padding: var(--spacing-sm); background: var(--bg-surface); border-radius: var(--radius-sm);">
                            <p><strong>Solution:</strong> Equivalent weight of NaOH = 40 g/eq</p>
                            <p>Normality = gram equivalents / volume in liters</p>
                            <p>0.1 N = gram equivalents / 0.5 L</p>
                            <p>Gram equivalents = 0.1 √ó 0.5 = 0.05 eq</p>
                            <p>Mass = gram equivalents √ó eq. wt. = 0.05 √ó 40 = <strong>2 g</strong></p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MCQ SECTION -->
            <section id="mcqs" class="mcq-section">
                <h2 class="mcq-title">Multiple Choice Questions</h2>
                
                <div class="mcq-grid">
                    <div class="mcq-card">
                        <div class="mcq-question">1. What is the equivalent weight of H‚ÇÇSO‚ÇÑ in the reaction: H‚ÇÇSO‚ÇÑ + 2NaOH ‚Üí Na‚ÇÇSO‚ÇÑ + 2H‚ÇÇO?</div>
                        <ul class="mcq-options">
                            <li>A) 98 g/eq</li>
                            <li>B) 49 g/eq</li>
                            <li>C) 32.67 g/eq</li>
                            <li>D) 24.5 g/eq</li>
                        </ul>
                        <div class="mcq-answer">Answer: B) 49 g/eq (Molecular weight = 98, n-factor = 2)</div>
                        <button class="btn-show-answer" onclick="toggleAnswer(this)">
                            <i class="fas fa-eye"></i> Show Answer
                        </button>
                    </div>

                    <div class="mcq-card">
                        <div class="mcq-question">2. Which of the following is a primary standard substance?</div>
                        <ul class="mcq-options">
                            <li>A) NaOH</li>
                            <li>B) HCl</li>
                            <li>C) K‚ÇÇCr‚ÇÇO‚Çá</li>
                            <li>D) H‚ÇÇSO‚ÇÑ</li>
                        </ul>
                        <div class="mcq-answer">Answer: C) K‚ÇÇCr‚ÇÇO‚Çá (Potassium dichromate is a primary standard for redox titrations)</div>
                        <button class="btn-show-answer" onclick="toggleAnswer(this)">
                            <i class="fas fa-eye"></i> Show Answer
                        </button>
                    </div>

                    <div class="mcq-card">
                        <div class="mcq-question">3. The relationship between molarity (M) and normality (N) is:</div>
                        <ul class="mcq-options">
                            <li>A) M = N √ó n-factor</li>
                            <li>B) N = M √ó n-factor</li>
                            <li>C) M = N / Volume</li>
                            <li>D) N = M / Volume</li>
                        </ul>
                        <div class="mcq-answer">Answer: B) N = M √ó n-factor</div>
                        <button class="btn-show-answer" onclick="toggleAnswer(this)">
                            <i class="fas fa-eye"></i> Show Answer
                        </button>
                    </div>

                    <div class="mcq-card">
                        <div class="mcq-question">4. 25 mL of 0.2 N HCl requires how many mL of 0.1 N NaOH for neutralization?</div>
                        <ul class="mcq-options">
                            <li>A) 25 mL</li>
                            <li>B) 50 mL</li>
                            <li>C) 75 mL</li>
                            <li>D) 100 mL</li>
                        </ul>
                        <div class="mcq-answer">Answer: B) 50 mL (Using N‚ÇÅV‚ÇÅ = N‚ÇÇV‚ÇÇ: 0.2 √ó 25 = 0.1 √ó V‚ÇÇ, V‚ÇÇ = 50 mL)</div>
                        <button class="btn-show-answer" onclick="toggleAnswer(this)">
                            <i class="fas fa-eye"></i> Show Answer
                        </button>
                    </div>
                </div>
            </section>

            <!-- COMPLETION MESSAGE -->
            <div class="completion-message">
                <h3 class="completion-title">Chapter 1 Completed! üéâ</h3>
                <p class="completion-text">You've learned about Volumetric Analysis, concentration units, titration methods, and solved numerical problems. Continue to Chapter 2 for Ionic Equilibrium.</p>
                <button class="btn-continue" onclick="location.href='chemistry-chapter-2.html'">
                    <i class="fas fa-arrow-right"></i>
                    Continue to Chapter 2
                </button>
            </div>
        </main>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#" class="footer-link">About StudyHive</a>
                <a href="#" class="footer-link">FAQ</a>
                <a href="#" class="footer-link">Contact Us</a>
                <a href="#" class="footer-link">Privacy</a>
            </div>
            <div class="copyright">
                &copy; 2023 StudyHive. Chapter 1: Volumetric Analysis
            </div>
        </div>
    </footer>

    <script>
        // ===== THEME TOGGLE =====
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = themeToggle.querySelector('i');
        
        const savedTheme = localStorage.getItem('studyhive-theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        if (savedTheme) {
            document.body.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
        } else if (!prefersDark) {
            document.body.setAttribute('data-theme', 'light');
            updateThemeIcon('light');
        }
        
        themeToggle.addEventListener('click', () => {
            const currentTheme = document.body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.body.setAttribute('data-theme', newTheme);
            localStorage.setItem('studyhive-theme', newTheme);
            updateThemeIcon(newTheme);
        });
        
        function updateThemeIcon(theme) {
            themeIcon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
        }

        // ===== STICKY MINI NAVIGATION =====
        const miniNav = document.getElementById('stickyMiniNav');
        const miniProgressFill = document.getElementById('miniProgressFill');
        const miniProgressPercent = document.getElementById('miniProgressPercent');
        const currentSectionTitle = document.getElementById('currentSectionTitle');

        // Section titles mapping for Chapter 1
        const sectionTitles = {
            'introduction': 'Introduction to Volumetric Analysis',
            'concentration': 'Concentration Units',
            'standards': 'Standard Substances',
            'titration': 'Titration Methods',
            'numerical': 'Numerical Problems',
            'mcqs': 'Multiple Choice Questions'
        };

        // Show/hide mini nav on scroll
        function handleMiniNavScroll() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / scrollHeight) * 100;
            
            // Show mini nav when scrolled down 100px
            if (scrollTop > 100) {
                miniNav.classList.add('active');
                document.body.classList.add('has-mini-nav');
            } else {
                miniNav.classList.remove('active');
                document.body.classList.remove('has-mini-nav');
            }
            
            // Update mini progress
            miniProgressFill.style.width = `${scrollPercent}%`;
            miniProgressPercent.textContent = `${Math.round(scrollPercent)}%`;
            
            // Update current section title
            updateCurrentSectionTitle();
        }

        // Update current section title
        function updateCurrentSectionTitle() {
            const sections = document.querySelectorAll('.content-section');
            let currentSection = 'Introduction';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 150;
                const sectionHeight = section.offsetHeight;
                
                if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
                    const sectionId = section.getAttribute('id');
                    currentSection = sectionTitles[sectionId] || 'Introduction';
                }
            });
            
            currentSectionTitle.textContent = currentSection;
        }

        // ===== SMOOTH SCROLL FOR NAVIGATION =====
        document.querySelectorAll('.topics-nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    document.querySelectorAll('.topics-nav a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                    
                    window.scrollTo({
                        top: targetElement.offsetTop - 100,
                        behavior: 'smooth'
                    });
                    
                    // Update mini nav title immediately
                    const sectionId = targetId.substring(1);
                    currentSectionTitle.textContent = sectionTitles[sectionId] || 'Introduction';
                }
            });
        });

        // ===== TOGGLE NUMERICAL SOLUTIONS =====
        function toggleSolution(problemNumber) {
            const solution = document.getElementById(`solution${problemNumber}`);
            const button = event.currentTarget;
            
            if (solution.classList.contains('active')) {
                solution.classList.remove('active');
                button.innerHTML = '<i class="fas fa-eye"></i> View Solution';
            } else {
                solution.classList.add('active');
                button.innerHTML = '<i class="fas fa-eye-slash"></i> Hide Solution';
            }
        }

        // ===== TOGGLE MCQ ANSWERS =====
        function toggleAnswer(button) {
            const card = button.closest('.mcq-card');
            card.classList.toggle('show-answer');
            
            if (card.classList.contains('show-answer')) {
                button.innerHTML = '<i class="fas fa-eye-slash"></i> Hide Answer';
            } else {
                button.innerHTML = '<i class="fas fa-eye"></i> Show Answer';
            }
        }

        // ===== UPDATE PROGRESS =====
        function updateProgress() {
            const content = document.querySelector('.chapter-content');
            const scrollPosition = window.scrollY;
            const windowHeight = window.innerHeight;
            const contentHeight = content.offsetHeight;
            
            let progress = 0;
            
            if (scrollPosition > 0) {
                const visibleContent = Math.min(scrollPosition + windowHeight, contentHeight);
                progress = Math.min((visibleContent / contentHeight) * 100, 100);
            }
            
            const progressFill = document.querySelector('.progress-fill');
            const progressPercent = document.querySelector('.progress-percent');
            
            progressFill.style.width = `${progress}%`;
            progressPercent.textContent = `${Math.round(progress)}%`;
        }

        // ===== INITIALIZE =====
        document.addEventListener('DOMContentLoaded', () => {
            window.addEventListener('scroll', handleMiniNavScroll);
            window.addEventListener('scroll', updateProgress);
            window.addEventListener('scroll', updateActiveNav);
            
            updateProgress();
            updateCurrentSectionTitle();
            updateActiveNav();
        });

        // Update active navigation
        function updateActiveNav() {
            const sections = document.querySelectorAll('.content-section');
            const navLinks = document.querySelectorAll('.topics-nav a');
            
            let currentSection = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 150;
                const sectionHeight = section.offsetHeight;
                
                if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSection}`) {
                    link.classList.add('active');
                }
            });
        }
    </script>
</body>
</html>